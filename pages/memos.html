<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Christopher King - Memos</title>
  <link rel="icon" href="../images/favicon.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/main.css">
  <link rel="stylesheet" href="../css/boxes.css">
  <link rel="stylesheet" href="../css/carousel.css">
  <style>
    
    .hero-box h1 {
     border-bottom: 6px solid #FFA02F;
   }
    
  </style>
</head>

<body onload="animateOnLoad()">

<!-- Header -->
<header class="new-header">
  <div class="header-left">
    <div class="dark-toggle-switch" onclick="toggleSwitch(this)">
      <div class="circle"></div>
    </div>
    <div class="site-name">
      <a href="/index.html">Christopher King</a>
    </div>
  </div>
  <div class="header-right">
    <a href="survey.html" class="survey-link-box survey-link-surveys">
      <div class="color-rect" style="background-color: #7F30C4;"></div><span>Survey Designs</span>
    </a>
    <a href="memos.html" class="survey-link-box survey-link-memos">
      <div class="color-rect" style="background-color: #FFA02F;"></div><span>Memos & Reports</span>
    </a>
    <a href="dashboards.html" class="survey-link-box survey-link-dashboards">
      <div class="color-rect" style="background-color: #00C7B2;"></div><span>Dashboards</span>
    </a>
    <a href="visualizations.html" class="survey-link-box survey-link-visualizations">
      <div class="color-rect" style="background-color: #00549F;"></div><span>Data Visualizations</span>
    </a>
    <a href="gallery.html" class="survey-link-box survey-link-gallery">
      <div class="color-rect" style="background-color: #D7A8FF;"></div><span>Gallery</span>
    </a>
  </div>
</header>

<!-- Hero -->
<section class="hero">
  <div class="hero-box">
    <h1>Memos</h1>
    <p>R</p>
  </div>
</section>

  <!-- Abstract -->
<section class="abstract-box">
    <h2>Page Abstract</h2>
    <p>
        This page serves as a curated collection of analytical memos and detailed budget documents, showcasing my expertise in translating complex data and financial information into clear, actionable insights. Each piece demonstrates a commitment to precision, strategic foresight, and effective communication essential for informed decision-making and stakeholder alignment within an organizational context.
    </p>
</section>

<section class="carousel-wrapper">
    <button class="carousel-button carousel-button-left" onclick="scrollCarousel(-1)">&#10094;</button> <div class="carousel-container" id="memoCarousel">
        <div class="mini-memo-item">
            <h4>Project Proposal Overview</h4>
            <img src="../images/viz-placeholder1.png" alt="Project Proposal Memo Thumbnail">
            <a href="#" class="read-memo-button" data-memo-path="../documents/memo-project-proposal.pdf">Read Memo</a>
        </div>

        <div class="mini-memo-item">
            <h4>Quarterly Budget Summary</h4>
            <img src="../images/viz-placeholder1.png" alt="Quarterly Budget Summary Memo Thumbnail">
            <a href="#" class="read-memo-button" data-memo-path="../documents/memo-quarterly-budget.pdf">View Budget</a>
        </div>

        <div class="mini-memo-item">
            <h4>Performance Analysis Report</h4>
            <img src="../images/viz-placeholder1.png" alt="Performance Analysis Report Memo Thumbnail">
            <a href="#" class="read-memo-button" data-memo-path="../documents/memo-performance-report.pdf">Read Report</a>
        </div>
        <div class="mini-memo-item">
            <h4>Financial Audit Memo</h4>
            <img src="../images/viz-placeholder1.png" alt="Financial Audit Memo Thumbnail">
            <a href="#" class="read-memo-button" data-memo-path="../documents/memo-audit.pdf">Read Memo</a>
        </div>
        <div class="mini-memo-item">
            <h4>Marketing Strategy Brief</h4>
            <img src="../images/viz-placeholder1.png" alt="Marketing Strategy Brief Thumbnail">
            <a href="#" class="read-memo-button" data-memo-path="../documents/memo-marketing.pdf">Read Memo</a>
        </div>
    </div>

    <button class="carousel-button carousel-button-right" onclick="scrollCarousel(1)">&#10095;</button> </section>


<!-- Memo Lightbox -->
<div class="lightbox-overlay" id="memoLightbox">
    <div class="lightbox-content">
        <button class="lightbox-close">&times;</button>
        <iframe src="" frameborder="0" class="lightbox-iframe" id="lightboxMemoIframe" allowfullscreen></iframe>
        <div class="lightbox-caption" id="lightboxMemoCaption"></div>
    </div>
</div>

<!-- Footer -->
<footer id="footer">
  <p>Let's Connect!</p>
  <div class="social-links">
    <a href="https://www.linkedin.com/in/christopherd-king" target="_blank">LinkedIn</a>
    <a href="mailto:cdking417@gmail.com">Email</a>
  </div>
</footer>

<!-- Scripts -->
<script>
function toggleSwitch(el) {
  el.classList.toggle('active');
  document.body.classList.toggle('dark-mode');
}

function animateOnLoad() {
  document.querySelector('.new-header').classList.add('animate-in');
  document.querySelector('.hero').classList.add('animate-in');
  document.querySelector('.hero-box').classList.add('animate-in');
}

// Add this function:
function toggleExpandBox() {
  const expandBox = document.getElementById('expandBox'); // Gets the content box by its ID
  const togglePlusSign = document.querySelector('.expand-toggle div:first-child'); // Gets the '+' div

  // Toggles the 'open' class on the expand box
  expandBox.classList.toggle('open');

  // Changes the plus/minus sign
  if (expandBox.classList.contains('open')) {
    togglePlusSign.textContent = '-'; // Change to minus when open
  } else {
    togglePlusSign.textContent = '+'; // Change back to plus when closed
  }
}

// Initialize animations on page load (you should have this)
document.addEventListener('DOMContentLoaded', () => {
  animateOnLoad();
});

// --- Carousel JavaScript ---
let currentCarouselIndex = 0;
let carouselItems = [];
let carouselContainer = null;

function initializeCarousel() {
    carouselContainer = document.getElementById('memoCarousel');
    carouselItems = Array.from(carouselContainer.getElementsByClassName('mini-memo-item'));

    if (carouselItems.length === 0) {
        console.warn("No carousel items found. Is the 'memoCarousel' ID correct?");
        return;
    }

    currentCarouselIndex = Math.floor(carouselItems.length / 2);
    updateCarouselDisplay();

    // Attach click listeners to all "Read Memo" buttons to open the Lightbox
    const readButtons = document.querySelectorAll('.read-memo-button');
    readButtons.forEach(button => {
        button.addEventListener('click', function(event) {
            event.preventDefault(); // Prevent default link behavior (e.g., jumping to #)
            const memoPath = this.getAttribute('data-memo-path');
            const memoTitle = this.closest('.mini-memo-item').querySelector('h4').textContent; // Get title for caption

            if (memoPath) {
                openMemoLightbox(memoPath, memoTitle); // Call the new lightbox function
                console.log('Opening memo in Lightbox:', memoPath);
            } else {
                console.warn('Memo path not found for button:', this);
            }
        });
    });
}

function updateCarouselDisplay() {
    carouselItems.forEach((item, index) => {
        item.classList.remove('carousel-item-active', 'carousel-item-faded');
        if (index === currentCarouselIndex) {
            item.classList.add('carousel-item-active');
        } else {
            item.classList.add('carousel-item-faded');
        }
    });

    if (carouselItems[currentCarouselIndex]) {
        const activeItem = carouselItems[currentCarouselIndex];
        const containerWidth = carouselContainer.offsetWidth;
        const scrollWidth = carouselContainer.scrollWidth;

        const activeItemCenter = activeItem.offsetLeft + (activeItem.offsetWidth / 2);
        let scrollLeftTarget = activeItemCenter - (containerWidth / 2);

        scrollLeftTarget = Math.max(0, scrollLeftTarget);
        scrollLeftTarget = Math.min(scrollLeftTarget, scrollWidth - containerWidth);

        carouselContainer.scrollTo({
            left: scrollLeftTarget,
            behavior: 'smooth'
        });
    }
}

function scrollCarousel(direction) {
    let newIndex = currentCarouselIndex + direction;
    if (newIndex < 0) {
        newIndex = 0;
    } else if (newIndex >= carouselItems.length) {
        newIndex = carouselItems.length - 1;
    }

    if (newIndex !== currentCarouselIndex) {
        currentCarouselIndex = newIndex;
        updateCarouselDisplay();
    }
}


// --- Memo Lightbox JavaScript ---
const memoLightbox = document.getElementById('memoLightbox');
const lightboxMemoIframe = document.getElementById('lightboxMemoIframe');
const lightboxMemoCaption = document.getElementById('lightboxMemoCaption');
const lightboxCloseBtn = memoLightbox.querySelector('.lightbox-close'); // Select close button within memoLightbox

// Function to open the memo lightbox
function openMemoLightbox(pdfPath, captionText = '') {
    lightboxMemoIframe.src = pdfPath; // Set the PDF source
    lightboxMemoIframe.classList.add('active'); // Show the iframe
    lightboxMemoCaption.textContent = captionText; // Set the caption
    
    memoLightbox.classList.add('active'); // Show the lightbox overlay
    document.body.style.overflow = 'hidden'; // Prevent body scrolling
}

// Function to close the memo lightbox
function closeMemoLightbox() {
    memoLightbox.classList.remove('active'); // Hide the lightbox overlay
    document.body.style.overflow = ''; // Restore body scrolling
    lightboxMemoIframe.src = ''; // Clear iframe src to stop loading/prevent issues
    lightboxMemoIframe.classList.remove('active'); // Hide the iframe
}

// Event Listeners for Memo Lightbox Controls
lightboxCloseBtn.addEventListener('click', closeMemoLightbox);

// Close lightbox when clicking on the overlay itself (but not the content)
memoLightbox.addEventListener('click', function(e) {
    if (e.target === memoLightbox) { // Check if the click was directly on the overlay
        closeMemoLightbox();
    }
});

// Keyboard navigation (optional but good for UX)
document.addEventListener('keydown', function(e) {
    if (memoLightbox.classList.contains('active') && e.key === 'Escape') {
        closeMemoLightbox();
    }
});


// Initialize carousel when the DOM is fully loaded
document.addEventListener('DOMContentLoaded', () => {
    animateOnLoad();
    initializeCarousel(); // Call the carousel initialization
});


</script>

</body>
</html>

